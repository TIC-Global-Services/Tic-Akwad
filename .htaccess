RewriteEngine On

# Force HTTPS (optional - remove if not needed)
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Remove trailing slash from URLs (except for root)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^(.+)/$ /$1 [R=301,L]

# Handle clean URLs - route requests to appropriate files
# Home page - redirect /home to root
RewriteRule ^home/?$ / [R=301,L]

# About page
RewriteRule ^about/?$ /about.html [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^about\.html$ /about [R=301,L]

# Client Portal page
RewriteRule ^client/?$ /client.html [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^client\.html$ /client [R=301,L]

# Archive page
RewriteRule ^archive/?$ /archive.html [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^archive\.html$ /archive [R=301,L]

# Brand Stories page
RewriteRule ^brand-stories/?$ /brand-stories.html [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^brand-stories\.html$ /brand-stories [R=301,L]

# Contact page
RewriteRule ^contact/?$ /contact.html [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^contact\.html$ /contact [R=301,L]

# Alternative approach - Generic clean URL handler
# Uncomment this section if you prefer a more generic approach
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule ^([^/]+)/?$ /$1.html [L]

# Redirect .html extensions to clean URLs
# RewriteCond %{THE_REQUEST} \s/+(.+?)\.html[\s?] [NC]
# RewriteRule ^ /%1 [R=301,L]

# Error pages (optional)
ErrorDocument 404 /404.html
ErrorDocument 500 /500.html

# Security headers (optional but recommended)
<IfModule mod_headers.c>
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# Cache control (optional)
<IfModule mod_expires.c>
    ExpiresActive on
    ExpiresByType text/css "access plus 1 year"
    ExpiresByType application/javascript "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
</IfModule>